input {
  # server logs
  file {
    type => "weblogic"
    path => [ "/ramdisk/logs/weblogic/*.log" ]
    start_position => beginning
    codec => multiline {
      pattern => "^####"
      negate => true
      what => "previous"
    }
  }
}

filter {
  grok {
    patterns_dir => "{{ logstash_pattern_path }}"
    match => ["message", "%{WLS_SRV_LOG}"]
  }
  date {
    match => ["wlsTimestamp", "MMM d, yyyy H:mm:ss aa zzz"]
  }
}

output {
  elasticsearch {
    host => localhost
    cluster =>  {{ elastic_cluster }}
  }
}
